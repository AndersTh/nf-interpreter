#
# Copyright (c) 2019 The nanoFramework project contributors
# See LICENSE file in the project root for full license information.
#

# ST common includes
set(TARGET_FREERTOS_ST_COMMON_INCLUDE_DIRS ${CMAKE_CURRENT_SOURCE_DIR}/include CACHE INTERNAL "make global")

list(APPEND TARGET_FREERTOS_ST_COMMON_SOURCES ${CMAKE_CURRENT_SOURCE_DIR}/WireProtocol_HAL_Interface.c)
list(APPEND TARGET_FREERTOS_ST_COMMON_SOURCES ${CMAKE_CURRENT_SOURCE_DIR}/stm32_hal_msp.c)
list(APPEND TARGET_FREERTOS_ST_COMMON_SOURCES ${CMAKE_CURRENT_SOURCE_DIR}/nanoSupport_CRC32.c)
list(APPEND TARGET_FREERTOS_ST_COMMON_SOURCES ${CMAKE_CURRENT_SOURCE_DIR}/platform_BlockStorage.c)
list(APPEND TARGET_FREERTOS_ST_COMMON_SOURCES ${CMAKE_CURRENT_SOURCE_DIR}/Target_BlockStorage_STM32FlashDriver.c)

# append nanoHAL
list(APPEND TARGET_FREERTOS_ST_COMMON_SOURCES ${CMAKE_CURRENT_SOURCE_DIR}/targetHAL.c)
list(APPEND TARGET_FREERTOS_ST_COMMON_SOURCES ${CMAKE_CURRENT_SOURCE_DIR}/LaunchCLR.c)

# make vars global
set(TARGET_FREERTOS_ST_COMMON_SOURCES ${TARGET_FREERTOS_ST_COMMON_SOURCES} CACHE INTERNAL "make global")
